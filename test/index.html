<!doctype html>
<html>
<head>
<title>test</title>
<script src="require.js"></script>
<style>
.test {
	position: relative;
}
</style>
</head>
<body>
<input id="range" type="range" min=12 max=40>
<button class="undo">Undo</button>
<div class="test">Lorem ipsum dolor sit amet</div>
<script>
require.config({
	baseUrl: '..',
	paths: {
		mori: 'node_modules/mori/mori',
		nbd: 'node_modules/nbd'
	}
});

require(['lib/Pipeline'], function(Pipeline) {
	var node = document.querySelector('.test');
	var range = document.getElementById('range');
	var undo = document.querySelector('.undo');

	var shader = {
		main: function(input, mori) {
			return mori.assoc(this._state, 'marginLeft', input.left + 'px');
		}
	},
	pipe = new Pipeline();
	pipe.push(shader);

	range.addEventListener('input', function() {
		pipe.process({ left: this.value });
	});
});
</script>
</body>
</html>
